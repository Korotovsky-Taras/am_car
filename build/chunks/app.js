(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelectorAll(".js-default-swiper");Array.from(c).forEach(e=>{const n=e.querySelector("div[slot='container-start'] .swiper-left"),i=e.querySelector("div[slot='container-end'] .swiper-right");Object.assign(e,{loop:!1,slidesPerView:"auto",spaceBetween:8,breakpoints:{1024:{spaceBetween:32}},injectStyles:[`:host .swiper{
                    overflow: visible;
                  }`]}),e.initialize();const s=l=>{l&&(n.classList.toggle("active",!l.isBeginning),i.classList.toggle("active",!l.isEnd))},{swiper:o}=e;s(o),i&&n&&(i.addEventListener("click",()=>{o&&o.slideNext()}),n.addEventListener("click",()=>{o&&o.slidePrev()}),e.addEventListener("swiperslidechange",l=>{const[a,r]=l.detail;s(a)}),e.addEventListener("swipertouchmove",l=>{e.classList.toggle("touched",!0)}),e.addEventListener("swipertouchend",l=>{e.classList.toggle("touched",!1)}))})});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelectorAll(".js-review-swiper");Array.from(c).forEach(e=>{const n=e.querySelector("div[slot='container-start'] .swiper-left"),i=e.querySelector("div[slot='container-end'] .swiper-right");Object.assign(e,{loop:!1,slidesPerView:"auto",spaceBetween:8,breakpoints:{1024:{spaceBetween:16}},injectStyles:[`:host .swiper{
                        overflow: visible;
                      }`]}),e.initialize();const s=l=>{l&&(n.classList.toggle("active",!l.isBeginning),i.classList.toggle("active",!l.isEnd))},{swiper:o}=e;s(o),i&&n&&(i.addEventListener("click",()=>{o&&o.slideNext()}),n.addEventListener("click",()=>{o&&o.slidePrev()}),e.addEventListener("swiperslidechange",l=>{const[a,r]=l.detail;s(a)}),e.addEventListener("swipertouchmove",l=>{e.classList.toggle("touched",!0)}),e.addEventListener("swipertouchend",l=>{e.classList.toggle("touched",!1)}))})});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector("header"),e=document.querySelector(".js-banner");if(!c||!e)return;const n=()=>{if(c&&e){const{height:i}=c.getBoundingClientRect();Object.assign(e.style,{marginTop:`calc(-${i}px + var(--holder-gap))`})}};n(),c&&e&&(new ResizeObserver(()=>{n()}).observe(c),document.body.classList.add("app-banner--mods"))});class h{constructor(e){this.contentId=e,this.modalContent=null,this.isOpen=!1,this.closable=!1,this.modalElement=this._createModalElement(),this.wrapperElement=this._createWrapperPanel(),this.contentPanel=this._createContentPanel(),this.closeButton=this._createCloseButton(),this.wrapperElement.append(this.closeButton),this.wrapperElement.append(this.contentPanel),this.modalElement.append(this.wrapperElement),this._setupEvents()}_createModalElement(){const e=document.createElement("div");return e.className="app-modal",e}_createCloseButton(){const e=document.createElement("button");return e.innerHTML='<svg width="14" height="24"><use xlink:href="/app-sprite.svg#close"></use></svg>',e.className="app-modal__close",e}_createWrapperPanel(){const e=document.createElement("div");return e.className="app-modal__wrapper",e}_createContentPanel(){const e=document.createElement("div");return e.className="app-modal__content",e}_setupEvents(){this.closeButton.addEventListener("click",()=>this.close()),this.modalElement.addEventListener("click",e=>{if(this.closable&&!this.wrapperElement.contains(e.target)){this.close();return}if(e.target.closest(".js-modal-close")){this.close();return}e.target.classList.contains("js-modal-close")&&this.close()}),this.modalElement.addEventListener("touchmove",e=>e.preventDefault(),{passive:!1})}_animate(e="show"){const n=[this.modalElement],i=t=>{document.body.style.overflow="hidden",this.startTime||(this.startTime=t);const s=(t-this.startTime)/300;n.forEach(o=>{o.style.opacity=e==="show"?Math.min(s,1):Math.max(1-s,0)}),s<1?requestAnimationFrame(i):(this.startTime=null,e==="hide"&&(this._removeFromDOM(),document.body.style.overflow=null))};requestAnimationFrame(i)}_addToDOM(e){document.body.append(this.modalElement),this.contentPanel.append(e)}_removeFromDOM(){this.modalElement.remove()}_getModalContentElement(){return this.modalContent==null&&(this.modalContent=document.getElementById(this.contentId)||null),this.modalContent}open(){const e=this._getModalContentElement();this.isOpen||e==null||(this.isOpen=!0,this._addToDOM(e),this._animate("show"))}close(){this.isOpen&&(this._animate("hide"),this.isOpen=!1)}setClosable(e){this.closable=e}}window.AppModal=h;document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelectorAll(".app-input");function e(i){let t=i.replace(/\D/g,"");t.startsWith("375")&&(t=t.substring(3)),t.length>9&&(t=t.substring(0,9));let s="+375 (";return t.length>0&&(s+=t.substring(0,2)),t.length>2&&(s+=") "+t.substring(2,5)),t.length>5&&(s+="-"+t.substring(5,7)),t.length>7&&(s+="-"+t.substring(7,9)),s}function n(i){return t=>{const s=t.querySelector(i);function o(l){t.classList.toggle("empty",l)}s&&(o(s.value.length===0),s.addEventListener("blur",function(l){o(l.target.value.length===0)}),s.addEventListener("input",function(l){var r,p;if(o(l.target.value.length===0),l.target.getAttribute("type")==="phone"){const u=((r=l.inputType)==null?void 0:r.includes("delete"))||l.target.value.length<((p=this.previousValue)==null?void 0:p.length);this.previousValue=l.target.value,u||(l.target.value=e(l.target.value))}}),s.addEventListener("keydown",function(l){if(l.target.getAttribute("type")==="phone"){if([8,46,9,27,13].includes(l.keyCode)||(l.ctrlKey||l.metaKey)&&[65,67,86,88].includes(l.keyCode))return;(l.keyCode<48||l.keyCode>57)&&(l.keyCode<96||l.keyCode>105)&&l.preventDefault()}}))}}Array.from(c).forEach(n("input")),Array.from(c).forEach(n("textarea"))});class d{constructor(e){this.el=e,this.activePopup=null,this.selectedItems=new Set,this.initialSelectedItems=new Set,this.init()}get isMobile(){return window.matchMedia("(max-width: 1024px)").matches}init(){this.setupSelect(),this.loadInitialSelection(),document.addEventListener("click",e=>{if(this.activePopup){const n=this.el.contains(e.target),i=this.activePopup.contains(e.target);!n&&!i&&(this.isMobile?this.el.querySelector("select").hasAttribute("data-multichoice")||this.closePopup():this.closePopup())}}),window.addEventListener("resize",()=>{this.activePopup&&this.positionPopup(this.activePopup)})}loadInitialSelection(){this.el.querySelector("select").querySelectorAll("option:checked").forEach(i=>{i.value!=="placeholder"&&this.selectedItems.add(i.value)})}setupSelect(){const e=this.el.querySelector(".app-select__view");this.el.querySelector("select").dataset.multichoice&&this.el.classList.add("multi"),e&&e.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.activePopup?this.closePopup():(document.querySelectorAll(".app-select__popup").forEach(s=>{var o;if(s!==this.activePopup){const l=(o=window.appSelectInstances)==null?void 0:o.find(a=>a.activePopup===s);l==null||l.closePopup()}}),this.openPopup())}),this.setInitialValue()}setInitialValue(){const e=this.el.querySelector(".app-select__view"),n=this.el.querySelector("select"),i=n.querySelector('option[value="placeholder"]');e&&i&&(!n.hasAttribute("data-change-view")||n.getAttribute("data-change-view")!=="false")&&(e.textContent=i.textContent),this.selectedItems.size>0&&this.updateViewText()}openPopup(){const e=this.el.querySelector("select");this.initialSelectedItems=new Set(this.selectedItems);const n=document.createElement("div");if(n.className="app-select__popup",this.isMobile){const t=document.createElement("div");t.className="app-select__popup-header";const s=document.createElement("div");s.className="app-select__popup-title",s.textContent=this.el.querySelector(".app-select__view").textContent;const o=document.createElement("div");o.className="app-select__popup-reset",o.textContent="Сбросить",o.addEventListener("click",()=>{this.resetSelection(),this.applySelection(),this.closePopup()}),t.appendChild(s),t.appendChild(o),n.appendChild(t)}const i=document.createElement("div");if(i.className="app-select__popup-options",this.populateOptions(i,e),n.appendChild(i),e.hasAttribute("data-multichoice")||this.isMobile){const t=document.createElement("div");t.className="app-select__popup-apply",t.textContent="Применить",!this.isMobile&&e.hasAttribute("data-multichoice")&&(t.style.display="none"),t.addEventListener("click",()=>{this.applySelection(),this.closePopup()}),n.appendChild(t)}document.body.appendChild(n),this.activePopup=n,this.positionPopup(n)}populateOptions(e,n){const i=n.querySelectorAll(":scope > option, :scope > optgroup"),t=n.hasAttribute("data-multichoice");i.forEach(s=>{if(s.tagName==="OPTGROUP"){const o=document.createElement("div");o.className="app-select__optgroup";const l=document.createElement("div");l.className="app-select__optgroup-label",l.textContent=s.getAttribute("label"),o.appendChild(l),s.querySelectorAll(":scope > option").forEach(r=>{if(r.value!=="placeholder"){const p=this.createOptionElement(r,t);o.appendChild(p)}}),e.appendChild(o)}else if(s.tagName==="OPTION"&&s.value!=="placeholder"){const o=this.createOptionElement(s,t);e.appendChild(o)}})}createOptionElement(e,n){const i=document.createElement("div");return i.className="app-select__option",i.dataset.value=e.value,i.textContent=e.textContent,this.selectedItems.has(e.value)&&i.classList.add("active"),i.addEventListener("click",t=>{t.stopPropagation(),n?(i.classList.toggle("active"),this.isMobile||this.updateApplyButtonVisibility()):(i.closest(".app-select__popup").querySelectorAll(".app-select__option").forEach(o=>o.classList.remove("active")),i.classList.add("active"),this.isMobile||(this.applySelection(),this.closePopup()))}),i}updateApplyButtonVisibility(){if(!this.activePopup||this.isMobile||!this.el.querySelector("select").hasAttribute("data-multichoice"))return;const n=this.activePopup.querySelector(".app-select__popup-apply");if(!n)return;const i=new Set;this.activePopup.querySelectorAll(".app-select__option.active").forEach(s=>{i.add(s.dataset.value)});let t=!1;if(i.size!==this.initialSelectedItems.size)t=!0;else for(const s of i)if(!this.initialSelectedItems.has(s)){t=!0;break}n.style.display=t?"block":"none"}applySelection(){if(!this.activePopup)return;const e=this.el.querySelector("select"),n=this.activePopup.querySelectorAll(".app-select__option.active");this.selectedItems.clear(),e.querySelectorAll("option").forEach(s=>{s.selected=!1});const i=[];n.forEach(s=>{const o=s.dataset.value;Array.from(e.querySelectorAll("option")).forEach(l=>{l.value===o&&(l.selected=!0,this.selectedItems.add(o),i.push(l.textContent))})}),this.updateViewText(i);const t=new Event("change",{bubbles:!0});e.dispatchEvent(t)}updateViewText(e){const n=this.el.querySelector(".app-select__view"),i=this.el.querySelector("select"),t=!i.hasAttribute("data-change-view")||i.getAttribute("data-change-view")!=="false";if(e||(e=[],this.selectedItems.forEach(s=>{const o=i.querySelector(`option[value="${s}"]`);o&&e.push(o.textContent)})),n){const s=this.selectedItems.size;if(s>0)n.dataset.count=s,t&&(n.innerHTML=`<span class="ellipsis">${e.join(", ")}</span>`);else if(delete n.dataset.count,t){const o=i.querySelector('option[value="placeholder"]');o&&(n.textContent=o.textContent)}}}resetSelection(){if(!this.activePopup)return;this.activePopup.querySelectorAll(".app-select__option").forEach(n=>{n.classList.remove("active")}),this.selectedItems.clear()}positionPopup(e){const n=this.el.getBoundingClientRect(),i=document.scrollingElement.scrollTop,t=document.scrollingElement.clientHeight,s=e.offsetHeight;let o=i+n.bottom;o+s>t&&(o=i+n.top-s),e.style.position="absolute",e.style.top=`${o}px`,e.style.left=`${n.left}px`}closePopup(){this.activePopup&&(this.activePopup.remove(),this.activePopup=null)}}window.AppSelect=d;document.addEventListener("DOMContentLoaded",()=>{window.appSelectInstances=[],document.querySelectorAll(".app-select").forEach(c=>{window.appSelectInstances.push(new d(c))})});
